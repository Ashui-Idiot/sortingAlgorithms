<h1>dubbleSort Algorithm</h1><a href=".\superSort.html">(Psst: Click me for superSort sort!)</a><br><a
  href=".\bubble.html">(Psst: Click me for bubbleSort!)</a>
  <br><a href=".\index.html">(Psst: Click me to go home!)</a>
<p>Enter your number. Dubble sort is like bubbleSort but if bubbleSort doesn nothing it tries it on the end.</p><br>
<title>dubbleSort</title>
<button id="button1">Press me to create a new array</button>
<br><button id="button">Press me to run an itteration</button>
<p>Starting Numbers: <span id=h>N/A</span></p>
<p>Output: <span id="f">N/A</span></p>
<p>Iterations: <span id="g">N/A</span></p>
<canvas id="canvas1" width="50" hieght="150"></canvas>
<canvas id="canvas2" width="50" hieght="150"></canvas>
<canvas id="canvas3" width="50" hieght="150"></canvas>
<canvas id="canvas4" width="50" hieght="150"></canvas>
<canvas id="canvas5" width="50" hieght="150"></canvas>
<canvas id="canvas6" width="50" hieght="150"></canvas>
<canvas id="canvas7" width="50" hieght="150"></canvas>
<canvas id="canvas8" width="50" hieght="150"></canvas>
<canvas id="canvas9" width="50" hieght="150"></canvas>
<canvas id="canvas10" width="50" hieght="150"></canvas>
<canvas id="canvas11" width="50" hieght="150"></canvas>
<canvas id="canvas12" width="50" hieght="150"></canvas>
<canvas id="canvas13" width="50" hieght="150"></canvas>
<canvas id="canvas14" width="50" hieght="150"></canvas>
<canvas id="canvas15" width="50" hieght="150"></canvas>
<canvas id="canvas16" width="50" hieght="150"></canvas>
<canvas id="canvas17" width="50" hieght="150"></canvas>
<canvas id="canvas18" width="50" hieght="150"></canvas>
<canvas id="canvas19" width="50" hieght="150"></canvas>
<canvas id="canvas20" width="50" hieght="150"></canvas>
<script>
    function sleep(ms) {
      return new Promise(resolve => setTimeout(resolve, ms));
    }
    function draw() {
      let canvas1 = document.getElementById('canvas1');
      if (canvas1.getContext) {
        let context1 = canvas1.getContext('2d');
        context1.fillStyle = '#000000'
        if (i == 1 - 1 || n.length-i-1 == 0) {
          context1.fillStyle = '#d60000'
        }
        context1.clearRect(0, 0, 100, 150);
        context1.fillRect(0, 150, 100, -n[0] * 7);
        context1.strokeRect(45, 45, 0, 0);
      }
      let canvas2 = document.getElementById('canvas2');
      if (canvas2.getContext) {
        let context2 = canvas2.getContext('2d');
        context2.fillStyle = '#000000'
        if (i == 2 - 1 || n.length-i-1 == 1) {
          context2.fillStyle = '#d60000'
        }
        context2.clearRect(0, 0, 100, 150);
        context2.fillRect(0, 150, 100, -n[1] * 7);
        context2.strokeRect(45, 45, 0, 0);
      }
      let canvas3 = document.getElementById('canvas3');
      if (canvas3.getContext) {
        let context3 = canvas3.getContext('2d');
        context3.fillStyle = '#000000'
        if (i == 3 - 1 || n.length-i-1 == 2) {
          context3.fillStyle = '#d60000'
        }
        context3.clearRect(0, 0, 100, 150);
        context3.fillRect(0, 150, 100, -n[2] * 7);
        context3.strokeRect(45, 45, 0, 0);
      }
      let canvas4 = document.getElementById('canvas4');
      if (canvas4.getContext) {
        let context4 = canvas4.getContext('2d');
        context4.fillStyle = '#000000'
        if (i == 4 - 1 || n.length-i-1 == 3) {
          context4.fillStyle = '#d60000'
        }
        context4.clearRect(0, 0, 100, 150);
        context4.fillRect(0, 150, 100, -n[3] * 7);
        context4.strokeRect(45, 45, 0, 0);
      }
      let canvas5 = document.getElementById('canvas5');
      if (canvas5.getContext) {
        let context5 = canvas5.getContext('2d');
        context5.fillStyle = '#000000'
        if (i == 5 - 1 || n.length-i-1 == 4) {
          context5.fillStyle = '#d60000'
        }
        context5.clearRect(0, 0, 100, 150);
        context5.fillRect(0, 150, 100, -n[4] * 7);
        context5.strokeRect(45, 45, 0, 0);
      }
      let canvas6 = document.getElementById('canvas6');
      if (canvas6.getContext) {
        let context6 = canvas6.getContext('2d');
        context6.fillStyle = '#000000'
        if (i == 6 - 1 || n.length-i-1 == 5) {
          context6.fillStyle = '#d60000'
        }
        context6.clearRect(0, 0, 100, 150);
        context6.fillRect(0, 150, 100, -n[5] * 7);
        context6.strokeRect(45, 45, 0, 0);
      }
      let canvas7 = document.getElementById('canvas7');
      if (canvas7.getContext) {
        let context7 = canvas7.getContext('2d');
        context7.fillStyle = '#000000'
        if (i == 7 - 1 || n.length-i-1 == 6) {
          context7.fillStyle = '#d60000'
        }
        context7.clearRect(0, 0, 100, 150);
        context7.fillRect(0, 150, 100, -n[6] * 7);
        context7.strokeRect(45, 45, 0, 0);
      }
      let canvas8 = document.getElementById('canvas8');
      if (canvas8.getContext) {
        let context8 = canvas8.getContext('2d');
        context8.fillStyle = '#000000'
        if (i == 8 - 1 || n.length-i-1 == 7) {
          context8.fillStyle = '#d60000'
        }
        context8.clearRect(0, 0, 100, 150);
        context8.fillRect(0, 150, 100, -n[7] * 7);
        context8.strokeRect(45, 45, 0, 0);
      }
      let canvas9 = document.getElementById('canvas9')
      if (canvas9.getContext) {
        let context9 = canvas9.getContext('2d');
        context9.fillStyle = '#000000'
        if (i == 9 - 1 || n.length-i-1 == 8) {
          context9.fillStyle = '#d60000'
        }
        context9.clearRect(0, 0, 100, 150);
        context9.fillRect(0, 150, 100, -n[8] * 7);
        context9.strokeRect(45, 45, 0, 0);
      }
      let canvas10 = document.getElementById('canvas10');
      if (canvas10.getContext) {
        let context10 = canvas10.getContext('2d');
        context10.fillStyle = '#000000'
        if (i == 10 - 1 || n.length-i-1 == 9) {
          context10.fillStyle = '#d60000'
        }
        context10.clearRect(0, 0, 100, 150);
        context10.fillRect(0, 150, 100, -n[9] * 7);
        context10.strokeRect(45, 45, 0, 0);
      }
      let canvas11 = document.getElementById('canvas11');
      if (canvas11.getContext) {
        let context11 = canvas11.getContext('2d');
        context11.fillStyle = '#000000'
        if (i == 11 - 1 || n.length-i-1 == 10) {
          context11.fillStyle = '#d60000'
        }
        context11.clearRect(0, 0, 100, 150);
        context11.fillRect(0, 150, 100, -n[10] * 7);
        context11.strokeRect(45, 45, 0, 0);
      }
      let canvas12 = document.getElementById('canvas12');
      if (canvas12.getContext) {
        let context12 = canvas12.getContext('2d');
        context12.fillStyle = '#000000'
        if (i == 12 - 1 || n.length-i-1 == 11) {
          context12.fillStyle = '#d60000'
        }
        context12.clearRect(0, 0, 100, 150);
        context12.fillRect(0, 150, 100, -n[11] * 7);
        context12.strokeRect(45, 45, 0, 0);
      }
      let canvas13 = document.getElementById('canvas13');
      if (canvas13.getContext) {
        let context13 = canvas13.getContext('2d');
        context13.fillStyle = '#000000'
        if (i == 13 - 1 || n.length-i-1 == 12) {
          context13.fillStyle = '#d60000'
        }
        context13.clearRect(0, 0, 100, 150);
        context13.fillRect(0, 150, 100, -n[12] * 7);
        context13.strokeRect(45, 45, 0, 0);
      }
      let canvas14 = document.getElementById('canvas14');
      if (canvas14.getContext) {
        let context14 = canvas14.getContext('2d');
        context14.fillStyle = '#000000'
        if (i == 14 - 1 || n.length-i-1 == 13) {
          context14.fillStyle = '#d60000'
        }
        context14.clearRect(0, 0, 100, 150);
        context14.fillRect(0, 150, 100, -n[13] * 7);
        context14.strokeRect(45, 45, 0, 0);
      }
      let canvas15 = document.getElementById('canvas15')
      if (canvas15.getContext) {
        let context15 = canvas15.getContext('2d');
        context15.fillStyle = '#000000'
        if (i == 15 - 1 || n.length-i-1 == 14) {
          context15.fillStyle = '#d60000'
        }
        context15.clearRect(0, 0, 100, 150);
        context15.fillRect(0, 150, 100, -n[14] * 7);
        context15.strokeRect(45, 45, 0, 0);
      }
      let canvas16 = document.getElementById('canvas16');
      if (canvas16.getContext) {
        let context16 = canvas16.getContext('2d');
        context16.fillStyle = '#000000'
        if (i == 16 - 1 || n.length-i-1 == 15) {
          context16.fillStyle = '#d60000'
        }
        context16.clearRect(0, 0, 100, 150);
        context16.fillRect(0, 150, 100, -n[15] * 7);
        context16.strokeRect(45, 45, 0, 0);
      }
      let canvas17 = document.getElementById('canvas17');
      if (canvas17.getContext) {
        let context17 = canvas17.getContext('2d');
        context17.fillStyle = '#000000'
        if (i == 17 - 1 || n.length-i-1 == 16) {
          context17.fillStyle = '#d60000'
        }
        context17.clearRect(0, 0, 100, 150);
        context17.fillRect(0, 150, 100, -n[16] * 7);
        context17.strokeRect(45, 45, 0, 0);
      }
      let canvas18 = document.getElementById('canvas18');
      if (canvas18.getContext) {
        let context18 = canvas18.getContext('2d');
        context18.fillStyle = '#000000'
        if (i == 18 - 1 || n.length-i-1 == 17) {
          context18.fillStyle = '#d60000'
        }
        context18.clearRect(0, 0, 100, 150);
        context18.fillRect(0, 150, 100, -n[17] * 7);
        context18.strokeRect(45, 45, 0, 0);
      }
      let canvas19 = document.getElementById('canvas19');
      if (canvas19.getContext) {
        let context19 = canvas19.getContext('2d');
        context19.fillStyle = '#000000'
        if (i == 19 - 1 || n.length-i-1 == 18) {
          context19.fillStyle = '#d60000'
        }
        context19.clearRect(0, 0, 100, 150);
        context19.fillRect(0, 150, 100, -n[18] * 7);
        context19.strokeRect(45, 45, 0, 0);
      }
      let canvas20 = document.getElementById('canvas20');
      if (canvas20.getContext) {
        let context20 = canvas20.getContext('2d');
        context20.fillStyle = '#000000'
        if (i == 20 - 1 || n.length-i-1 == 19) {
          context20.fillStyle = '#d60000'
        }
        context20.clearRect(0, 0, 100, 150);
        context20.fillRect(0, 150, 100, -n[19] * 7);
        context20.strokeRect(45, 45, 0, 0);
      }
    }
    let n = [
      1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20
    ]
    let i = 0
    let it = 0
    let l = 1000 ^ 100
    let p = 0
    let sort = true
    let f = 0
    let g = n.length
    let h = 0
    let r = 0
    let j = 0
    let O = 0
    let T = 1
    let Th = 2
    let F = 3
    let Fi = 4
    let k = 0
    document.getElementById('button').addEventListener("click", function () {
      stuff()
    })
    document.getElementById('button1').addEventListener("click", function () {
      stuff2()
    })
    function stuff2() {
      it = 0
      i = 0
      l = 1000 ^ 100
      p = 0
      sort = true
      f = 0
      g = 0
      h = 0
      r = 0
      j = 0
      k = 0
      randomArrayShuffle(n)
      document.getElementById("h").innerHTML = n
      document.getElementById("f").innerHTML = n
      document.getElementById("g").innerHTML = it
      draw()
    }
    function randomArrayShuffle(array) {
      let currentIndex = array.length, randomIndex;

      // While there remain elements to shuffle...
      while (currentIndex != 0) {

        // Pick a remaining element...
        randomIndex = Math.floor(Math.random() * currentIndex);
        currentIndex--;

        // And swap it with the current element.
        [array[currentIndex], array[randomIndex]] = [
          array[randomIndex], array[currentIndex]];
      }

      return array;
    }
    function stuff() {
      console.log("in function 1")
    dubble()
  }
  function dubble() {
      if (n[i]>n[i+1]) {
				[n[i],n[i+1]] = [n[i+1],n[i]]
			} else if (n[n.length-1-i]<n[n.length-2-i]) {
        [n[n.length-2-i],n[n.length-1-i]]=[n[n.length-1-i],n[n.length-2-i]]
      }
      i+=1
      it+=1
      if (i == 19) {
        i = 0
      }
      draw()
    sleep(25)
      .then(() => console.log(n))
      .then(() => { if (n[0] < n[1] && n[1] < n[2] && n[2] < n[3] && n[3] < n[4] && n[4] < n[5] && n[5] < n[6] && n[6] < n[7] && n[7] < n[8] && n[8] < n[9] && n[9] < n[10] && n[10] < n[11] && n[11] < n[12] && n[12] < n[13] && n[13] < n[14] && n[14] < n[15] && n[15] < n[16] && n[16] < n[17] && n[17] < n[18] && n[18] < n[19]) { sort = false } })
      .then(() => { if (sort == true) { dubble() } })
      .then(() => document.getElementById("f").innerHTML = n)
      .then(() => document.getElementById("g").innerHTML = it)
  }
</script>